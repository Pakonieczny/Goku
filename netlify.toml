[build]
  command = "npm run build"
  publish = "public"
  functions = "netlify/functions"

[functions]
  node_bundler = "esbuild"
  external_node_modules = [
    "form-data",
    "node-fetch",
    "formidable",
    "firebase-admin",
    "@google-cloud/storage"
  ]

# Correct syntax for specific function overrides
[functions.imageUpload]
  # Note: "name" is inferred from the header [functions.imageUpload]
  # "rawBody" is generally not a valid netlify.toml property, but 
  # keeping the block valid fixes the parsing error.
